# 使用nginx提供静态文件服务
FROM nginx:alpine

# 安装Node用于API代理
RUN apk add --no-cache nodejs npm

# 复制nginx配置
COPY nginx/frontend.conf /etc/nginx/conf.d/default.conf

# 复制静态文件
COPY .nuxt/dist/client /usr/share/nginx/html

# 暴露端口
EXPOSE 3000

# 启动nginx
CMD ["nginx", "-g", "daemon off;"]